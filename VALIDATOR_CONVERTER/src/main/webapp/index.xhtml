<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:t="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Validator and Converter</title>
</h:head>
<h:body>
	<h1>
		<p:outputLabel value="#{validatorBean.greeting}" />
	</h1>
	<p:panel header="UI Validation">
		<h:form>
			<p:panelGrid columns="2" styleClass="ui-noborder">
			
			<p:inputText id="email_1" value="#{validatorBean.email}" required="true" requiredMessage="Email is missing" validatorMessage="Wrong email pattern">
				<f:validateRegex
					pattern="^[a-zA-Z0-9_.+-]+@[a-zA-z0-9- ]+\.[a-zA-z0-9-.]+$"
					for="email_1"/>					
			</p:inputText>
			<h:message for="email_1"/>
			<p:commandButton value="Action" update="@form" action="#{validatorBean.showEmail}"/>
			</p:panelGrid>
		</h:form>
	</p:panel>
	<p:panel header="Validator Class">
		<h:form>
			<p:panelGrid columns="2" styleClass="ui-noborder">
			
			<p:inputText id="email_2" value="#{validatorBean.email}" label="#{msg['email_2']}" >
							<f:validator validatorId="emailValidator"/>
			</p:inputText>
			<h:message for="email_2"/>
			<p:commandButton value="Action" update="@form" action="#{validatorBean.showEmail}"/>
			</p:panelGrid>
		</h:form>
	</p:panel>
	<p:panel header="Validation Bean Method">
		<h:form>
			<p:panelGrid columns="2" styleClass="ui-noborder">			
			<p:inputText 
			id="email_3"
			label="#{msg['email_3']}" 
			value="#{validatorBean.email}" 
			validator="#{validatorBean.validateEmail}"/>			
			<h:message for="email_3" id="errmsg"/>
			<p:commandButton value="Action" update="errmsg" action="#{validatorBean.showEmail}"/>
			</p:panelGrid>
		</h:form>
	</p:panel>
</h:body>
</html>
